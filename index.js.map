{"version":3,"file":"index.js","sources":["../src/js/components/exercises-section.js","../src/js/components/active-btn.js","../src/js/components/footer.js"],"sourcesContent":["import { getFilters, getExercises } from '../services/api';\nimport {\n  draw_exercies,\n  draw_filters,\n  remove_filters,\n  remove_exercies,\n} from './draw-filters';\nimport { initializePagination, removePagination } from './pagination';\nimport { capitalizeFirstLetter, debounce } from './helpers';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const elements = {\n    buttonsAll: document.querySelector('.exercises__buttons'),\n    exerciseCards: document.querySelector('.exercises__cards'),\n    searchBtnClear: document.querySelector('#search-btn-clear'),\n    searchForm: document.querySelector('#search-form'),\n    searchInput: document.querySelector('#search-input'),\n    breadcrumbsTitle: document.querySelector('#exercises-breadcrumbs h2'),\n    breadcrumbsTitleDivider: document.querySelector(\n      '#exercises-breadcrumbs span'\n    ),\n    breadcrumbsSubtitle: document.querySelector('#exercises-breadcrumbs p'),\n    paginationContainer: document.querySelector('#tui-pagination-container'),\n    loader: document.querySelector('#loader'),\n  };\n\n  let filtersPerPage = {\n    small: 9,\n    large: 12,\n  }\n  let exercisesPerPage = {\n    small: 8,\n    large: 10,\n  }\n  let currentBreakpoint = window.innerWidth <= 768 ? 'small' : 'large';\n  let currentPage = 1;\n  let selectedCategory = 'Muscles';\n  let selectedPart = '';\n\n  const categoriesToFiltersMap = {\n    Muscles: 'muscles',\n    Equipment: 'equipment',\n    'Body parts': 'bodypart',\n  };\n\n  const onAfterMove = event => {\n    currentPage = event.page;\n    if (selectedPart) {\n      fetchAndDrawExercises({\n        [categoriesToFiltersMap[selectedCategory]]: selectedPart,\n        page: currentPage,\n        limit: exercisesPerPage[currentBreakpoint],\n      });\n    } else {\n      fetchAndDrawFilters(selectedCategory);\n    }\n  }\n\n  const fetchAndDrawFilters = async (category = 'Muscles') => {\n    remove_filters();\n    removePagination();\n    elements.loader.classList.remove('visually-hidden');\n\n    try {\n      const { results, totalPages } = await getFilters({\n        params: {\n          filter: category,\n          page: currentPage,\n          limit: filtersPerPage[currentBreakpoint],\n        },\n      });\n\n      elements.searchForm.classList.add('exercises__search-form--hidden');\n      elements.breadcrumbsTitleDivider.classList.add('visually-hidden');\n      elements.breadcrumbsSubtitle.classList.add('visually-hidden');\n\n      draw_filters(results);\n      initializePagination(\n        totalPages,\n        filtersPerPage[currentBreakpoint],\n        currentPage,\n        onAfterMove\n      );\n    } catch (error) {\n      console.error('Error fetching filters:', error);\n    } finally {\n      elements.loader.classList.add('visually-hidden');\n    }\n  };\n\n  const fetchAndDrawExercises = async params => {\n    remove_exercies();\n    removePagination();\n    elements.loader.classList.remove('visually-hidden');\n\n    try {\n      const { results, totalPages } = await getExercises({ params });\n      draw_exercies(results);\n      initializePagination(\n        totalPages,\n        exercisesPerPage[currentBreakpoint],\n        currentPage,\n        onAfterMove\n      );\n    } catch (error) {\n      console.error('Error fetching exercises:', error);\n    } finally {\n      elements.loader.classList.add('visually-hidden');\n    }\n  };\n\n  const onFilterButtonClick = async event => {\n    if (event.target.nodeName !== 'BUTTON') return;\n\n    selectedCategory = event.target.textContent.trim();\n\n    currentPage = 1;\n    selectedPart = '';\n\n    await fetchAndDrawFilters(selectedCategory);\n  };\n\n  const onExerciseCardClick = async event => {\n    event.preventDefault();\n    const link = event.target.closest('.exercises__cards-link');\n    if (!link) return;\n\n    selectedPart = link.getAttribute('data-name');\n    elements.breadcrumbsSubtitle.textContent =\n      capitalizeFirstLetter(selectedPart);\n\n    elements.breadcrumbsSubtitle.classList.remove('visually-hidden');\n    elements.searchForm.classList.remove('exercises__search-form--hidden');\n    elements.breadcrumbsTitleDivider.classList.remove('visually-hidden');\n\n    currentPage = 1;\n\n    await fetchAndDrawExercises({\n      [categoriesToFiltersMap[selectedCategory]]: selectedPart,\n      page: currentPage,\n      limit: exercisesPerPage[currentBreakpoint],\n    });\n  };\n\n  const toggleSearchClearButton = () => {\n    if (elements.searchInput.value.trim() !== '') {\n      elements.searchBtnClear.classList.remove('visually-hidden');\n    } else {\n      elements.searchBtnClear.classList.add('visually-hidden');\n    }\n  };\n\n  const onSearchInput = debounce(async () => {\n    const searchValue = elements.searchInput.value;\n\n    if (searchValue.trim() !== '') {\n      elements.searchBtnClear.classList.remove('visually-hidden');\n    } else {\n      elements.searchBtnClear.classList.add('visually-hidden');\n    }\n\n    currentPage = 1;\n\n    await fetchAndDrawExercises({\n      [categoriesToFiltersMap[selectedCategory]]: selectedPart,\n      keyword: searchValue,\n      page: currentPage,\n      limit: exercisesPerPage[currentBreakpoint],\n    });\n  }, 300);\n\n  const onClearSearchClick = () => {\n    elements.searchInput.value = '';\n    elements.searchInput.focus();\n    elements.searchBtnClear.classList.add('visually-hidden');\n\n    currentPage = 1;\n\n    fetchAndDrawExercises({\n      [categoriesToFiltersMap[selectedCategory]]: selectedPart,\n      keyword: '',\n      page: currentPage,\n      limit: exercisesPerPage[currentBreakpoint],\n    });\n  };\n\n  const onTitleClick = async () => {\n    if (!selectedPart) return;\n\n    currentPage = 1;\n    selectedPart = '';\n    await fetchAndDrawFilters(selectedCategory);\n  };\n\n  const onResize = debounce(() => {\n    const newBreakpoint = window.innerWidth <= 768 ? 'small' : 'large';\n\n    if (newBreakpoint === currentBreakpoint) return;\n    currentBreakpoint = newBreakpoint;\n\n    currentPage = 1;\n    if (selectedPart) {\n      fetchAndDrawExercises({\n        [categoriesToFiltersMap[selectedCategory]]: selectedPart,\n        page: currentPage,\n        limit: exercisesPerPage[currentBreakpoint],\n      });\n    } else {\n      fetchAndDrawFilters(selectedCategory);\n    }\n  }, 500);\n\n  // Event listeners\n  elements.buttonsAll?.addEventListener('click', onFilterButtonClick);\n  elements.exerciseCards?.addEventListener('click', onExerciseCardClick);\n  elements.searchInput?.addEventListener('input', () => {\n    toggleSearchClearButton();\n    onSearchInput();\n  });\n  elements.searchBtnClear?.addEventListener('click', onClearSearchClick);\n  elements.breadcrumbsTitle?.addEventListener('click', onTitleClick);\n\n  window.addEventListener('resize', onResize);\n\n  // Initial load\n  fetchAndDrawFilters(selectedCategory);\n});\n","const buttons = document.querySelector('.exercises__buttons');\n\nconst onChangeActive = event => {\n  if (event.target.tagName === 'BUTTON') {\n    // Find the currently active button\n    const currentActive = document.querySelector('.exercises__btn-smpl.active');\n\n    // Remove 'active' class from the current active item and its button\n    if (currentActive) {\n      currentActive.classList.remove('active');\n    }\n\n    // Add 'active' class to the clicked button\n    const clickedButton = event.target;\n    clickedButton.classList.add('active');\n  }\n};\nif (buttons) {\n  buttons.addEventListener('click', onChangeActive);\n}\n","import * as yup from 'yup';\nimport { createSubscription } from '../services/api';\nimport { isAxiosError } from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst emailSchema = yup.object({\n  email: yup.string().email('Invalid email!').required('Email is required.'),\n});\n\nconst formRef = document.querySelector('.subscription-form');\n\nformRef.addEventListener('submit', async e => {\n  try {\n    e.preventDefault();\n    const { email } = e.target.elements;\n    const data = await emailSchema.validate({ email: email.value });\n    formRef.reset();\n    const { message } = await createSubscription({ body: data });\n    iziToast.success({ message, position: 'topRight' });\n  } catch (error) {\n    let message = '';\n    if (isAxiosError(error)) {\n      message = error.response.data.message ?? '';\n    } else {\n      message = error.errors?.[0] ?? '';\n    }\n    iziToast.error({ message, position: 'topRight' });\n  }\n});\n"],"names":["elements","filtersPerPage","exercisesPerPage","currentBreakpoint","currentPage","selectedCategory","selectedPart","categoriesToFiltersMap","onAfterMove","event","fetchAndDrawExercises","fetchAndDrawFilters","category","remove_filters","removePagination","results","totalPages","getFilters","draw_filters","initializePagination","error","params","remove_exercies","getExercises","draw_exercies","onFilterButtonClick","onExerciseCardClick","link","capitalizeFirstLetter","toggleSearchClearButton","onSearchInput","debounce","searchValue","onClearSearchClick","onTitleClick","onResize","newBreakpoint","_a","_b","_c","_d","_e","buttons","onChangeActive","currentActive","emailSchema","yup.object","yup.string","formRef","email","data","message","createSubscription","iziToast","isAxiosError"],"mappings":"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"}