import{r as F,g as $,d as N,a as z,b as O,c as R,s as U,e as H}from"./assets/exercise-modal-BCbmcDGw.js";import{P as V,c as W,a as j,i as S,b as G}from"./assets/vendor-DbvQrPBk.js";document.addEventListener("DOMContentLoaded",()=>{var y,f,L,C,x;const e={buttonsAll:document.querySelector(".exercises__buttons"),exerciseCards:document.querySelector(".exercises__cards"),searchBtnClear:document.querySelector("#search-btn-clear"),searchForm:document.querySelector("#search-form"),searchInput:document.querySelector("#search-input"),breadcrumbsTitle:document.querySelector("#exercises-breadcrumbs h2"),breadcrumbsTitleDivider:document.querySelector("#exercises-breadcrumbs span"),breadcrumbsSubtitle:document.querySelector("#exercises-breadcrumbs p"),paginationContainer:document.querySelector("#tui-pagination-container"),loader:document.querySelector("#loader")},o=12,r=window.innerWidth<=768?8:10,l=5;let a=1,c="Muscles",n="",p;const u={Muscles:"muscles",Equipment:"equipment","Body parts":"bodypart"},q={first:"double-arrow-prev",prev:"arrow-prev",next:"arrow-next",last:"double-arrow-next"},v=()=>{e.paginationContainer.classList.add("visually-hidden"),e.paginationContainer.innerHTML=""},B=t=>t.charAt(0).toUpperCase()+t.slice(1),E=(t,s)=>{let i;return function(...d){const D=this;clearTimeout(i),i=setTimeout(()=>t.apply(D,d),s)}},g=(t,s=!1)=>`<a href="#" class="tui-page-btn tui-${t} ${s?"tui-is-disabled":""}" aria-label="page-${t}">
        <svg width="20" height="20">
          <use href="${U}#${q[t]}"></use>
        </svg>
      </a>`,b=(t,s)=>{t>1?(e.paginationContainer.classList.remove("visually-hidden"),p=new V(e.paginationContainer,{totalItems:t*s,itemsPerPage:s,visiblePages:l,page:a,template:{moveButton:i=>{const{type:d}=i;return g(d)},disabledMoveButton:i=>{const{type:d}=i;return g(d,!0)}}}),p.on("afterMove",i=>{a=i.page,n?h({[u[c]]:n,page:a,limit:r}):m(c)})):v()},m=async(t="Muscles")=>{F(),v(),e.loader.classList.remove("visually-hidden");try{const{results:s,totalPages:i}=await $({params:{filter:t,page:a,limit:o}});e.searchForm.classList.add("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.add("visually-hidden"),e.breadcrumbsSubtitle.classList.add("visually-hidden"),N(s),b(i,o)}catch(s){console.error("Error fetching filters:",s)}finally{e.loader.classList.add("visually-hidden")}},h=async t=>{z(),v(),e.loader.classList.remove("visually-hidden");try{const{results:s,totalPages:i}=await O({params:t});R(s),b(i,r)}catch(s){console.error("Error fetching exercises:",s)}finally{e.loader.classList.add("visually-hidden")}},P=async t=>{t.target.nodeName==="BUTTON"&&(c=t.target.textContent.trim(),a=1,n="",await m(c))},k=async t=>{t.preventDefault();const s=t.target.closest(".exercises__cards-link");s&&(n=s.getAttribute("data-name"),e.breadcrumbsSubtitle.textContent=B(n),e.breadcrumbsSubtitle.classList.remove("visually-hidden"),e.searchForm.classList.remove("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.remove("visually-hidden"),a=1,await h({[u[c]]:n,page:a,limit:r}))},T=()=>{e.searchInput.value.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden")},I=E(async()=>{const t=e.searchInput.value;t.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden"),a=1,await h({[u[c]]:n,keyword:t,page:a,limit:r})},300),M=()=>{e.searchInput.value="",e.searchInput.focus(),e.searchBtnClear.classList.add("visually-hidden"),a=1,h({[u[c]]:n,keyword:"",page:a,limit:r})},A=async()=>{n&&(a=1,n="",await m(c))};(y=e.buttonsAll)==null||y.addEventListener("click",P),(f=e.exerciseCards)==null||f.addEventListener("click",k),(L=e.searchInput)==null||L.addEventListener("input",()=>{T(),I()}),(C=e.searchBtnClear)==null||C.addEventListener("click",M),(x=e.breadcrumbsTitle)==null||x.addEventListener("click",A),m(c)});const w=document.querySelector(".exercises__buttons"),J=e=>{if(e.target.tagName==="BUTTON"){const o=document.querySelector(".exercises__btn-smpl.active");o&&o.classList.remove("active"),e.target.classList.add("active")}};w&&w.addEventListener("click",J);const K=W({email:j().email("Invalid email!").required("Email is required.")}),_=document.querySelector(".subscription-form");_.addEventListener("submit",async e=>{var o;try{e.preventDefault();const{email:r}=e.target.elements,l=await K.validate({email:r.value});_.reset();const{message:a}=await H({body:l});S.success({message:a,position:"topRight"})}catch(r){let l="";G(r)?l=r.response.data.message??"":l=((o=r.errors)==null?void 0:o[0])??"",S.error({message:l,position:"topRight"})}});
//# sourceMappingURL=index.js.map
