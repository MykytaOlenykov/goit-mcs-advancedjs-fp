import{r as A,a as f,g as D,d as F,i as L,c as I,b as x,e as M,f as z,h as N,j as R}from"./assets/exercise-modal-Cxf5koiL.js";import{c as O,a as U,i as C,b as W}from"./assets/vendor-DbvQrPBk.js";document.addEventListener("DOMContentLoaded",()=>{var v,b,y,g,p;const e={buttonsAll:document.querySelector(".exercises__buttons"),exerciseCards:document.querySelector(".exercises__cards"),searchBtnClear:document.querySelector("#search-btn-clear"),searchForm:document.querySelector("#search-form"),searchInput:document.querySelector("#search-input"),breadcrumbsTitle:document.querySelector("#exercises-breadcrumbs h2"),breadcrumbsTitleDivider:document.querySelector("#exercises-breadcrumbs span"),breadcrumbsSubtitle:document.querySelector("#exercises-breadcrumbs p"),paginationContainer:document.querySelector("#tui-pagination-container"),loader:document.querySelector("#loader")};let n={small:9,large:12},a={small:8,large:10},r=window.innerWidth<=768?"small":"large",t=1,c="Muscles",i="";const o={Muscles:"muscles",Equipment:"equipment","Body parts":"bodypart"},h=s=>{t=s.page,i?u({[o[c]]:i,page:t,limit:a[r]}):d(c)},d=async(s="Muscles")=>{A(),f(),e.loader.classList.remove("visually-hidden");try{const{results:l,totalPages:m}=await D({params:{filter:s,page:t,limit:n[r]}});e.searchForm.classList.add("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.add("visually-hidden"),e.breadcrumbsSubtitle.classList.add("visually-hidden"),F(l),L(m,n[r],t,h)}catch(l){console.error("Error fetching filters:",l)}finally{e.loader.classList.add("visually-hidden")}},u=async s=>{M(),f(),e.loader.classList.remove("visually-hidden");try{const{results:l,totalPages:m}=await z({params:s});N(l),L(m,a[r],t,h)}catch(l){console.error("Error fetching exercises:",l)}finally{e.loader.classList.add("visually-hidden")}},_=async s=>{s.target.nodeName==="BUTTON"&&(c=s.target.textContent.trim(),t=1,i="",await d(c))},k=async s=>{s.preventDefault();const l=s.target.closest(".exercises__cards-link");l&&(i=l.getAttribute("data-name"),e.breadcrumbsSubtitle.textContent=I(i),e.breadcrumbsSubtitle.classList.remove("visually-hidden"),e.searchForm.classList.remove("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.remove("visually-hidden"),t=1,await u({[o[c]]:i,page:t,limit:a[r]}))},q=()=>{e.searchInput.value.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden")},E=x(async()=>{const s=e.searchInput.value;s.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden"),t=1,await u({[o[c]]:i,keyword:s,page:t,limit:a[r]})},300),B=()=>{e.searchInput.value="",e.searchInput.focus(),e.searchBtnClear.classList.add("visually-hidden"),t=1,u({[o[c]]:i,keyword:"",page:t,limit:a[r]})},T=async()=>{i&&(t=1,i="",await d(c))},P=x(()=>{const s=window.innerWidth<=768?"small":"large";s!==r&&(r=s,t=1,i?u({[o[c]]:i,page:t,limit:a[r]}):d(c))},500);(v=e.buttonsAll)==null||v.addEventListener("click",_),(b=e.exerciseCards)==null||b.addEventListener("click",k),(y=e.searchInput)==null||y.addEventListener("input",()=>{q(),E()}),(g=e.searchBtnClear)==null||g.addEventListener("click",B),(p=e.breadcrumbsTitle)==null||p.addEventListener("click",T),window.addEventListener("resize",P),d(c)});const S=document.querySelector(".exercises__buttons"),$=e=>{if(e.target.tagName==="BUTTON"){const n=document.querySelector(".exercises__btn-smpl.active");n&&n.classList.remove("active"),e.target.classList.add("active")}};S&&S.addEventListener("click",$);const j=O({email:U().email("Invalid email!").required("Email is required.")}),w=document.querySelector(".subscription-form");w.addEventListener("submit",async e=>{var n;try{e.preventDefault();const{email:a}=e.target.elements,r=await j.validate({email:a.value});w.reset();const{message:t}=await R({body:r});C.success({message:t,position:"topRight"})}catch(a){let r="";W(a)?r=a.response.data.message??"":r=((n=a.errors)==null?void 0:n[0])??"",C.error({message:r,position:"topRight"})}});
//# sourceMappingURL=index.js.map
