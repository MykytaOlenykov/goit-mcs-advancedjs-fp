import{r as $,g as N,d as z,a as O,b as R,c as U,s as H,e as V}from"./assets/exercise-modal-ChQPMjRP.js";import{P as W,c as j,a as G,i as S,b as J}from"./assets/vendor-ClsCxivM.js";document.addEventListener("DOMContentLoaded",()=>{var f,L,C,w,x;const e={buttonsAll:document.querySelector(".exercises__buttons"),exerciseCards:document.querySelector(".exercises__cards"),searchBtnClear:document.querySelector("#search-btn-clear"),searchForm:document.querySelector("#search-form"),searchInput:document.querySelector("#search-input"),breadcrumbsTitle:document.querySelector("#exercises-breadcrumbs h2"),breadcrumbsTitleDivider:document.querySelector("#exercises-breadcrumbs span"),breadcrumbsSubtitle:document.querySelector("#exercises-breadcrumbs p"),paginationContainer:document.querySelector("#tui-pagination-container"),loader:document.querySelector("#loader")},o=12,r=window.innerWidth<=768?8:10,l=10;let a=1,c="Muscles",n="",p;const u={Muscles:"muscles",Equipment:"equipment","Body parts":"bodypart"},B={first:"double-arrow-prev",prev:"arrow-prev",next:"arrow-next",last:"double-arrow-next"},h=()=>{e.paginationContainer.classList.add("visually-hidden"),e.paginationContainer.innerHTML=""},E=t=>t.charAt(0).toUpperCase()+t.slice(1),P=(t,s)=>{let i;return function(...d){const F=this;clearTimeout(i),i=setTimeout(()=>t.apply(F,d),s)}},g=()=>{window.scrollTo({top:0,behavior:"smooth"})},b=(t,s=!1)=>`<a href="#" class="tui-page-btn tui-${t} ${s?"tui-is-disabled":""}">
        <svg width="20" height="20">
          <use href="${H}#${B[t]}"></use>
        </svg>
      </a>`,y=(t,s)=>{t>1?(e.paginationContainer.classList.remove("visually-hidden"),p=new W(e.paginationContainer,{totalItems:t*s,itemsPerPage:s,visiblePages:l,page:a,template:{moveButton:i=>{const{type:d}=i;return b(d)},disabledMoveButton:i=>{const{type:d}=i;return b(d,!0)}}}),p.on("afterMove",i=>{a=i.page,n?v({[u[c]]:n,page:a,limit:r}):m(c),g()})):h()},m=async(t="Muscles")=>{$(),h(),e.loader.classList.remove("visually-hidden");try{const{results:s,totalPages:i}=await N({params:{filter:t,page:a,limit:o}});e.searchForm.classList.add("visually-hidden"),e.breadcrumbsTitleDivider.classList.add("visually-hidden"),e.breadcrumbsSubtitle.classList.add("visually-hidden"),z(s),y(i,o)}catch(s){console.error("Error fetching filters:",s)}finally{e.loader.classList.add("visually-hidden")}},v=async t=>{O(),h(),e.loader.classList.remove("visually-hidden");try{const{results:s,totalPages:i}=await R({params:t});U(s),y(i,r)}catch(s){console.error("Error fetching exercises:",s)}finally{e.loader.classList.add("visually-hidden")}},k=async t=>{t.target.nodeName==="BUTTON"&&(c=t.target.textContent.trim(),a=1,n="",await m(c))},_=async t=>{t.preventDefault();const s=t.target.closest(".exercises__cards-link");s&&(n=s.getAttribute("data-name"),e.breadcrumbsSubtitle.textContent=E(n),e.breadcrumbsSubtitle.classList.remove("visually-hidden"),e.searchForm.classList.remove("visually-hidden"),e.breadcrumbsTitleDivider.classList.remove("visually-hidden"),a=1,g(),await v({[u[c]]:n,page:a,limit:r}))},I=()=>{e.searchInput.value.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden")},M=P(async()=>{const t=e.searchInput.value;t.trim()!==""?e.searchBtnClear.classList.remove("visually-hidden"):e.searchBtnClear.classList.add("visually-hidden"),a=1,await v({[u[c]]:n,keyword:t,page:a,limit:r})},300),A=()=>{e.searchInput.value="",e.searchInput.focus(),e.searchBtnClear.classList.add("visually-hidden"),a=1,v({[u[c]]:n,keyword:"",page:a,limit:r})},D=async()=>{n&&(a=1,n="",await m(c))};(f=e.buttonsAll)==null||f.addEventListener("click",k),(L=e.exerciseCards)==null||L.addEventListener("click",_),(C=e.searchInput)==null||C.addEventListener("input",()=>{I(),M()}),(w=e.searchBtnClear)==null||w.addEventListener("click",A),(x=e.breadcrumbsTitle)==null||x.addEventListener("click",D),m(c)});const T=document.querySelector(".exercises__buttons"),K=e=>{if(e.target.tagName==="BUTTON"){const o=document.querySelector(".exercises__btn-smpl.active");o&&o.classList.remove("active"),e.target.classList.add("active")}};T&&T.addEventListener("click",K);const Q=j({email:G().email("Invalid email!").required("Email is required.")}),q=document.querySelector(".subscription-form");q.addEventListener("submit",async e=>{var o;try{e.preventDefault();const{email:r}=e.target.elements,l=await Q.validate({email:r.value});q.reset();const{message:a}=await V({body:l});S.success({message:a,position:"topRight"})}catch(r){let l="";J(r)?l=r.response.data.message??"":l=((o=r.errors)==null?void 0:o[0])??"",S.error({message:l,position:"topRight"})}});
//# sourceMappingURL=index.js.map
