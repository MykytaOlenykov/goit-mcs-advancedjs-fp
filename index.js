import{r as $,g as N,d as z,a as O,b as R,c as U,s as H,e as V}from"./assets/exercise-modal-BpL4cJ8F.js";import{P as W,c as j,a as G,i as w,b as J}from"./assets/vendor-ClsCxivM.js";document.addEventListener("DOMContentLoaded",()=>{var v,x,y,L,C;const e={buttonsAll:document.querySelector(".exercises__buttons"),exerciseCards:document.querySelector(".exercises__cards"),searchBtnClear:document.querySelector("#search-btn-clear"),searchForm:document.querySelector("#search-form"),searchInput:document.querySelector("#search-input"),breadcrumbsTitle:document.querySelector("#exercises-breadcrumbs h2"),breadcrumbsTitleDivider:document.querySelector("#exercises-breadcrumbs span"),breadcrumbsSubtitle:document.querySelector("#exercises-breadcrumbs p"),paginationContainer:document.querySelector("#tui-pagination-container"),loader:document.querySelector("#loader")},o=12,a=window.innerWidth<=768?8:10,l=5;let r=1,n="Muscles",c="",f;const u={Muscles:"muscles",Equipment:"equipment","Body parts":"bodypart"},q={first:"double-arrow-prev",prev:"arrow-prev",next:"arrow-next",last:"double-arrow-next"},p=()=>{e.paginationContainer.classList.add("exercises__search-form--hidden"),e.paginationContainer.innerHTML=""},B=t=>t.charAt(0).toUpperCase()+t.slice(1),E=(t,s)=>{let i;return function(...d){const F=this;clearTimeout(i),i=setTimeout(()=>t.apply(F,d),s)}},g=()=>{window.scrollTo({top:0,behavior:"smooth"})},b=(t,s=!1)=>`<a href="#" class="tui-page-btn tui-${t} ${s?"tui-is-disabled":""}">
        <svg width="20" height="20">
          <use href="${H}#${q[t]}"></use>
        </svg>
      </a>`,_=(t,s)=>{t>1?(e.paginationContainer.classList.remove("exercises__search-form--hidden"),f=new W(e.paginationContainer,{totalItems:t*s,itemsPerPage:s,visiblePages:l,page:r,template:{moveButton:i=>{const{type:d}=i;return b(d)},disabledMoveButton:i=>{const{type:d}=i;return b(d,!0)}}}),f.on("afterMove",i=>{r=i.page,c?h({[u[n]]:c,page:r,limit:a}):m(n),g()})):p()},m=async(t="Muscles")=>{$(),p(),e.loader.classList.remove("exercises__search-form--hidden");try{const{results:s,totalPages:i}=await N({params:{filter:t,page:r,limit:o}});e.searchForm.classList.add("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.add("exercises__search-form--hidden"),e.breadcrumbsSubtitle.classList.add("exercises__search-form--hidden"),z(s),_(i,o)}catch(s){console.error("Error fetching filters:",s)}finally{e.loader.classList.add("exercises__search-form--hidden")}},h=async t=>{O(),p(),e.loader.classList.remove("exercises__search-form--hidden");try{const{results:s,totalPages:i}=await R({params:t});U(s),_(i,a)}catch(s){console.error("Error fetching exercises:",s)}finally{e.loader.classList.add("exercises__search-form--hidden")}},P=async t=>{t.target.nodeName==="BUTTON"&&(n=t.target.textContent.trim(),r=1,c="",await m(n))},k=async t=>{t.preventDefault();const s=t.target.closest(".exercises__cards-link");s&&(c=s.getAttribute("data-name"),e.breadcrumbsSubtitle.textContent=B(c),e.breadcrumbsSubtitle.classList.remove("exercises__search-form--hidden"),e.searchForm.classList.remove("exercises__search-form--hidden"),e.breadcrumbsTitleDivider.classList.remove("exercises__search-form--hidden"),r=1,g(),await h({[u[n]]:c,page:r,limit:a}))},I=()=>{e.searchInput.value.trim()!==""?e.searchBtnClear.classList.remove("exercises__search-form--hidden"):e.searchBtnClear.classList.add("exercises__search-form--hidden")},M=E(async()=>{const t=e.searchInput.value;t.trim()!==""?e.searchBtnClear.classList.remove("exercises__search-form--hidden"):e.searchBtnClear.classList.add("exercises__search-form--hidden"),r=1,await h({[u[n]]:c,keyword:t,page:r,limit:a})},300),A=()=>{e.searchInput.value="",e.searchInput.focus(),e.searchBtnClear.classList.add("exercises__search-form--hidden"),r=1,h({[u[n]]:c,keyword:"",page:r,limit:a})},D=async()=>{c&&(r=1,c="",await m(n))};(v=e.buttonsAll)==null||v.addEventListener("click",P),(x=e.exerciseCards)==null||x.addEventListener("click",k),(y=e.searchInput)==null||y.addEventListener("input",()=>{I(),M()}),(L=e.searchBtnClear)==null||L.addEventListener("click",A),(C=e.breadcrumbsTitle)==null||C.addEventListener("click",D),m(n)});const S=document.querySelector(".exercises__buttons"),K=e=>{if(e.target.tagName==="BUTTON"){const o=document.querySelector(".exercises__btn-smpl.active");o&&o.classList.remove("active"),e.target.classList.add("active")}};S&&S.addEventListener("click",K);const Q=j({email:G().email("Invalid email!").required("Email is required.")}),T=document.querySelector(".subscription-form");T.addEventListener("submit",async e=>{var o;try{e.preventDefault();const{email:a}=e.target.elements,l=await Q.validate({email:a.value});T.reset();const{message:r}=await V({body:l});w.success({message:r,position:"topRight"})}catch(a){let l="";J(a)?l=a.response.data.message??"":l=((o=a.errors)==null?void 0:o[0])??"",w.error({message:l,position:"topRight"})}});
//# sourceMappingURL=index.js.map
